{"ast":null,"code":"'use strict';\n\nvar React = require('react');\n\nvar d3 = require('d3');\n\nvar utils = require('../utils');\n\nvar CandlestickContainer = require('./CandlestickContainer');\n\nmodule.exports = React.createClass({\n  displayName: 'DataSeries',\n  propTypes: {\n    fillUp: React.PropTypes.string.isRequired,\n    fillDown: React.PropTypes.string.isRequired\n  },\n  render: function render() {\n    var props = this.props;\n    var xRange = props.xScale.range(),\n        width = Math.abs(xRange[0] - xRange[1]),\n        candleWidth = width / (props.data.length + 2) * 0.5;\n    var dataSeriesArray = props.data.map(function (d, idx) {\n      // Candles\n      var ohlc = props.yAccessor(d),\n          candle_x = props.xScale(props.xAccessor(d)) - 0.5 * candleWidth,\n          candle_y = props.yScale(Math.max(ohlc.open, ohlc.close)),\n          candleHeight = Math.abs(props.yScale(ohlc.open) - props.yScale(ohlc.close)),\n          wick_y2 = props.yScale(ohlc.low),\n          ohlcClass = ohlc.open <= ohlc.close ? 'up' : 'down',\n          className = ohlcClass + \" rd3-candlestick-rect\",\n          candleFill = ohlc.open <= ohlc.close ? props.fillUp : props.fillDown; //Wicks\n\n      var wick_x1 = props.xScale(props.xAccessor(d)),\n          wick_y1 = props.yScale(ohlc.high),\n          wick_x2 = wick_x1;\n      return React.createElement(CandlestickContainer, {\n        key: idx,\n        candleFill: candleFill,\n        candleHeight: candleHeight,\n        candleWidth: candleWidth,\n        candle_x: candle_x,\n        candle_y: candle_y,\n        wick_x1: wick_x1,\n        wick_x2: wick_x2,\n        wick_y1: wick_y1,\n        wick_y2: wick_y2,\n        hoverAnimation: props.hoverAnimation\n      });\n    }, this);\n    return React.createElement(\"g\", null, dataSeriesArray);\n  }\n});","map":null,"metadata":{},"sourceType":"script"}